<!DOCTYPE html>
<html lang="en">

<head>
  <!-- <link rel="stylesheet/less" type="text/css" href="http://Altynai.me/theme/css/style.less">
  <script src="http://Altynai.me/theme/js/less-1.3.3.min.js" type="text/javascript"></script> test -->
  <link rel="stylesheet" type="text/css" href="http://Altynai.me/theme/css/style.css"> 

  <link rel="stylesheet" type="text/css" href="http://Altynai.me/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width; initial-scale=1.0">
  <meta name="author" content="Altynai">
  <meta name="description" content="Posts and writings by Altynai">
  <link rel="shortcut icon" href="http://Altynai.me/theme/images/favicon.ico" type="image/x-icon" />
  <link href="http://Altynai.me/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Sideways Full RSS Feed" />


  <title>
Category: Code  </title>

</head>

<body>
  <aside>
    <div id="user_meta">
        <a href="http://Altynai.me">
        <img src="http://Altynai.me/theme/images/logo.jpg" alt="logo">
      </a>
      <h2><a href="http://Altynai.me">Sideways</a></h2>
      <p class="tagline">Reflections on life, code, movie, and the craft of writing..</p>
      <div id="social_links">
	<ul id="social_list">
        <li><a href="https://github.com/Altynai" rel='me' target="_blank"><i class="icon-github icon-2x"></i></a></li>
        <li><a href="http://weibo.com/u/2164187874" rel='me' target="_blank"><i class="icon-weibo icon-2x"></i></a></li>
	</ul>
      </div>
      <ul>
        <li><a  href="http://Altynai.me/pages/about-me.html">关于我</a></li>
        <li><a  href="http://Altynai.me/archives.html">Archives</a></li>
       </ul>
    </div>
    <div class="overlay">
    </div>
  </aside>

  <main>
     <header>
<p>Category: Code
</p>
    </header>
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/12/zjut-1783/">ZJUT 1783 线段树 lazy标记</a></h1>
  </div>
  <div id="article_text">
    <p><span style="color: #ff00ff;">【ZJUT
1783】</span><a href="http://acm.zjut.edu.cn/ShowProblem.aspx?ShowID=1783">http://acm.zjut.edu.cn/ShowProblem.aspx?ShowID=1783</a></p>
<p>今天圣诞赛现场赛的B题。坑爹的<code>push_down</code>函数写错了，卡了一个小时。</p>
<p>题目的意思很简单，就是在某个区间插入一个等差数列，然后查询某区间的和，所以我想到的是用low和up来维护等差数列的首项和末项，因为对于一个固定的区间，这个等差数列是唯一的。然后就是要lazy标记，方法和经典的"成段更新求和"类似，关键还是<code>push_down</code>函数千万不能写错！</p>
<div class="highlight"><pre><span class="cp">#define N 100005</span>
<span class="cp">#define ll long long</span>
<span class="cp">#define eps 1e-7</span>

<span class="cp">#define lchild(id) (id&lt;&lt;1)</span>
<span class="cp">#define rchild(id) ((id&lt;&lt;1)|1 ...</span></pre></div>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/12/zjut-1783/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>
<hr />
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/11/hdu-4121-4123/">2011 Asia Fuzhou Regional A题 & B题 & C题</a></h1>
  </div>
  <div id="article_text">
    <p>【Hdu 4121 XiangQi】<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4121">http://acm.hdu.edu.cn/showproblem.php?pid=4121</a></p>
<p>题意：给你一个象棋局，这个局已经“将”了，红方有帅，车，炮，马这四种棋子，黑方只有一个将，现在轮到黑方走，问：将无论怎么走，新局面还是“将”。</p>
<p>分析：模拟。要注意的地方：将走一步可能走出范围或者吃掉红方的一个棋子；将帅直线且中间无子的时候，帅可以直接冲将；卡马脚的时候，马不能往跳那个方向跳。</p>
<div class="highlight"><pre><span class="cp">#include&lt;iostream&gt;</span>
<span class="cp">#include&lt;algorithm&gt;</span>
<span class="cp">#include&lt;cmath&gt;</span>
<span class="cp">#include&lt;string&gt;</span>
<span class="cp">#include&lt;cstdio&gt;</span>
<span class="cp">#include&lt;queue&gt;</span>
<span class="cp">#include&lt;cstring&gt;</span>
<span class="k">using ...</span></pre></div>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/11/hdu-4121-4123/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>
<hr />
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/11/regional-summary/">ShangHai & FuZhou Regional's summary</a></h1>
  </div>
  <div id="article_text">
    <p>10月中旬去上海之前，我们队大部分的时间还是3个人分开在进行练习，形式就是简单的做题并分析，我也在Hdu开过一场DIY，题目主要是一些前几年各个赛区的签名题和难度中等偏下的题，那段时间，只要一有空，我就在做那个。毕竟我们队的每个人都没有打过Regional的经验，所以，准备的这段时间里，心情很是紧张和不安，紧张是因为怕在比赛的时候出现我们难以控制的局面，不安是因为在出发之前的训练中，队伍的情况不是很稳定，偶尔对局面的把握很不明智，没有明显的大局观。举个简单的例子，当出现一道题提交了很多次还没过的时候，我对于每一次的修改，都抱着可能AC的心态去尝试，而不彻底的分析和想清楚这后果，这是一个可怕的恶循环。</p>
<p>上海热身赛的时候，过了两题之后，感觉队伍状态还是很一般般，也暴露了一个大问题：前期卡题，中后期几次之后才过题，理由也就是刚刚提到的，没有彻底想清楚。现场比赛的时候和平常时间做题是完全不一样的，对于后者，有足够的时间，因此我不小心有了一个很不好的习惯：当想法不是很成熟的时候就开始敲题目了，当然，大多数的结果必然是中途而废，所以，热身赛那天晚上队伍也进行了讨论和调整。第二天现场赛的时候，我们担心的情况还是发生了，简单的说就是当时几乎全场都过了A题，而我们久久不过，整个队伍被牵制于此，我看得出来，当时整个队伍都很着急，都太想把A过掉了，更直白的说法：只想把A题过掉 ...</p>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/11/regional-summary/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>
<hr />
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/11/zoj-2706-thermal-death-of-the-universe/">ZOJ 2706 Thermal Death of the Universe</a></h1>
  </div>
  <div id="article_text">
    <p><span style="color: #ff00ff;"><strong>【ZOJ
2706】</strong></span><a href="http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemCode=2706">http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemCode=2706</a></p>
<p>题意：给你一个30,000的序列，然后有30,000个操作，每个操作把某个区间的所有值变成这个区间的平均数，小数四舍五入的原则给定，求最后的序列。</p>
<p>这题很显然是线段树，而且需要lazy操作（lazy为true表示当前整段是否相同），lazy操作需要的地方：<span
style="color: #ff00ff;">update（区间更新）、Search（得到区间sum）和query（去除所有的lazy标记，得到最后的序列）</span>，一开始死活都没有发现WA在哪里，后来才发现Search（得到区间sum）操作的时候忘记lazy的pushdown操作了，这个下次要注意。</p>
<p>还有一点要注意的就是区间的和为负数的情况，这样ceil和floor和整数是不一样的。</p>
<div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;cstdio&gt;</span>
<span class="cp">#include &lt;cstring&gt;</span>
<span class="cp">#include &lt;string ...</span></pre></div>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/11/zoj-2706-thermal-death-of-the-universe/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>
<hr />
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/10/hdu-4096/">Hdu 4096 Universal Question Answering System</a></h1>
  </div>
  <div id="article_text">
    <p><span style="color: #ff00ff;"><strong>[HDU
4096] </strong></span><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4096">http://acm.hdu.edu.cn/showproblem.php?pid=4096</a></p>
<p>from 2011 Asia Shanghai Regional Contest</p>
<p>题意：给你两种陈述句的格式，通过其给定的关系建立一张关系网，然后在给定的疑问句中确认两个东西在关系网中是否存在关系。</p>
<p>当时是在现场赛的最后时刻慌忙敲的，结果返回各种WA。今天题目在HDU挂出来之后又按照现场赛的思路重新敲了遍，居然1Y了，蛋碎了。</p>
<p>我的做法：</p>
<p>可以观察到，关系网内最多有2000个结点，由于noun和verb中可能含有相同的词语，所以我用两个<code>map&lt;string,int&gt;</code>来分别记录。</p>
<p>对于陈述句，得到两个关键字，u和v，在关系网中添加<code>u-&gt;v</code>的边即可。</p>
<p>对于疑问句，得到两个关键字，u和v，如果在关系网中满足<code>u-&gt;v</code><strong>可达</strong>，则为 ...</p>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/10/hdu-4096/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>
<hr />
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/09/auto-ac-matrix-dp/">hdu 3962 & hdu 2243 & zjut 1734 AC自动机,矩阵,DP</a></h1>
  </div>
  <div id="article_text">
    <p><span style="color: #ff00ff;">[hdu
3962]</span> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=3962">http://acm.hdu.edu.cn/showproblem.php?pid=3962</a></p>
<p>题目大意：给你N个DNA片段，问你长度为L的DNA中至少包含2个给定片段的种数。</p>
<p>思路：想到一共的种数为<code>4^L</code>，我们只要减去不包含和只包含1个给点片段的种数。</p>
<p>首先，构造好自动机，然后就是构造矩阵。假设自动机一共有n个结点（包括）root，编号0,1....n-1，矩阵的规模为（2n
X 2n）</p>
<ul>
<li>
<p>i点（0≤i＜n）表示到trie图中i点不经过危险结点的路径数</p>
</li>
<li>
<p>i点（n≤i＜2*n）表示到trie图中i-n点经过一次危险结点的路径数</p>
</li>
</ul>
<p>所以，对于i点（0≤i＜n）的每一个儿子结点j：</p>
<p>如果j是安全结点 ...</p>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/09/auto-ac-matrix-dp/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>
<hr />
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/09/zjut-naonayang/">NaoNaYang</a></h1>
  </div>
  <div id="article_text">
    <p>最后大家讨论了一下，我们队是去福州赛区(11月19-20号)和上海赛区(去打酱油..)</p>
<p>今天把队名弄了一下<code>NaoNaYang</code>其实我更喜欢<code>NiMengDaoDiXiangNaoNaYang</code>哈哈</p>
<p>差不多还有将近2个月的时间，所以这2个月的时间里，大家决定有时间就在一起开场比赛，这样算是保持一种状态的方法吧。</p>
<p>昨天第一场状态不佳啊...水题都要很久才过..坑爹了</p>
<p>题目来自<a href="http://acm.hdu.edu.cn/search.php?field=problem&amp;key=2008%20Asia%20Regional%20Beijing&amp;source=1&amp;searchmode=source">2008 Asia Regional Beijing</a></p>
<p>自己做过的几题就在这里稍微提及一下：</p>
<p><span style="color: #ff00ff;">[hdu
2485]</span> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=2485">http://acm.hdu.edu.cn/showproblem.php?pid=2485</a></p>
<p>由于只有50个点，先floyd一下，然后找割点，很显然，找割点的时候就是拆点网络流的模型。</p>
<p>关键是K，只有满足<code>dis[1][i]+dis[i][n]&lt;=K</code>的点才拆点，以为这些点才是关键点 ...</p>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/09/zjut-naonayang/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>
<hr />
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/09/hdu-4016/">Hdu 4016</a></h1>
  </div>
  <div id="article_text">
    <p>Asia Regional Shanghai Site —— Warmup的第6题，在比赛的时候，一直想不出什么好的方法，但知道搜索应该可以过的，学校的一队拿了这题的一血，后来也没几个队过这题。</p>
<blockquote>
<p>其实&amp;有一个特点，那就是A&amp;B=C，其中C≤min(A,B)。</p>
</blockquote>
<p>那么，我们可以贪心的想，取小的数(高位都为0了)得到的结果肯定更加接近最优解，但不并一定就是取最小的k个数。</p>
<p>如果暴力的去dfs，复杂度就是<code>2^40</code>，这明显是too simple了。</p>
<p>所以要剪枝，再想一下&amp;的那个性质，假如你递归下去，得到的值肯定是要比当前递归到的层的值还要小的，也就是说，我们不必一定要等到递归到选完k个数了的时候再更新answer，直接在当前递归层更新就可以了。</p>
<p>光光有这么一个剪枝还是不够的，还是利用这个性质，假设我们现在递归到第id个数，如果我把id\~n这些数全&amp;进来，如果此时的结果还是≥answer，那么就可以剪枝了。</p>
<blockquote>
<p>证明也很简单：如果id ...</p></blockquote>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/09/hdu-4016/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>
<hr />
<article>
  <div id="article_title">
    <h1><a href="http://Altynai.me/2011/09/directed-mst/">最小树形图</a></h1>
  </div>
  <div id="article_text">
    <p>9月3号的大连网络赛的第9题，当时题目看完之后发现是从来没有做过的类型，费用流的话也不像是费用流。</p>
<p>赛后才知道原来是最小树形图，o(VE)的复杂度，然后趁今天的一段空闲时间去找了点资料看看。</p>
<p>我只写一下我自己理解的一些东西，因为概念等信息网上都有。</p>
<p>这个叫"朱-刘算法"有点像求mst的算法，先选取每个点(非根点)入边中权值最小的那条边，这样组成一个集合E。</p>
<p>而有环的判断有点像kruskal中判断选取的当前边的两点是否属于同一个联通块。</p>
<p>"朱-刘算法"中最关键的部分就是处理出现有向环的情况了。</p>
<p>当把环缩点，修改非环点到环的距离和环到非环点的距离的时候，可以想象成是这样：</p>
<blockquote>
<p>现在有一个环C，C中有一个点B，B在环中的前驱结点为
pre[B]，除此之外环外有一个点A，存在边(A,B) ∈ E</p>
<p>我们可以知道(A,B)的权值肯定是≥
(pre[B],B)这条边的权值的，证明也很简单，如果不成立，那么pre[B]就变成了A了。</p>
<p>所以更新的操作就是w(A,B)-=w ...</p></blockquote>
  </div>
  <div id="article_more">
  	<a class="button_more" href="http://Altynai.me/2011/09/directed-mst/">More <i class=" icon-arrow-right"></i></a>
  </div>
</article>

    <footer>
	
<div id="paginator">

	<div id="next_page_right">
		<a href="http://Altynai.me/category/code.html" class="button_accent">Newer Posts <i class="icon-arrow-right"></i></a>
	</div>
</div>
    </footer>

    <div id="ending_message">
      <p>&copy Geoffrey Gimse. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme adapted from pelican-svbhack available on <a href="https://github.com/giulivo/pelican-svbhack" target="_blank">github</a>. Many of the images used on this site are in the Public Domain and available from <a href="http://openclipart.org" target="_blank">Openclipart</a>.</p>
    </div>
  </main>
</body>
</html>